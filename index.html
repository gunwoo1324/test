<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>순천시 병원 찾기</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js CDN for the chart -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
        }
        canvas {
            max-width: 100%;
            height: auto;
        }
    </style>
</head>
<body class="p-4 sm:p-8">
    <div class="max-w-4xl mx-auto bg-white p-6 rounded-2xl shadow-lg border border-gray-200">
        <h1 class="text-3xl sm:text-4xl font-extrabold text-center text-blue-800 mb-6">전라남도 순천시 병원 찾기</h1>
        <p class="text-center text-gray-600 mb-8">의료기관명이나 주소를 검색하거나, 종류별로 필터링하여 순천시의 병원을 찾아보세요.</p>

        <!-- 검색 및 필터링 UI -->
        <div class="flex flex-col sm:flex-row gap-4 mb-6">
            <input type="text" id="searchInput" placeholder="의료기관명 또는 주소 검색..." class="w-full sm:flex-1 p-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 transition-all duration-200">
            <select id="typeFilter" class="w-full sm:w-auto p-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 transition-all duration-200">
                <option value="전체">전체</option>
                <option value="병원">병원</option>
                <option value="의원">의원</option>
                <option value="한의원">한의원</option>
                <option value="치과의원">치과의원</option>
            </select>
        </div>

        <!-- 결과 표시 영역 -->
        <div id="resultsContainer" class="space-y-4">
            <!-- 결과가 여기에 동적으로 생성됩니다. -->
        </div>

        <!-- 에러 및 정보 메시지 표시 영역 -->
        <div id="messageBox" class="text-center text-gray-500 mt-8 hidden">
            <p>검색 결과가 없습니다.</p>
        </div>

        <!-- 병원 종류별 비율을 보여주는 차트 영역 -->
        <div class="mt-12 text-center">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">순천시 병원 종류별 비율</h2>
            <div class="w-full sm:w-2/3 md:w-1/2 mx-auto">
                <canvas id="hospitalChart"></canvas>
            </div>
        </div>

        <!-- 국립의대 설립 필요성 분석 영역 -->
        <div class="mt-12 p-6 bg-gray-50 rounded-2xl border border-gray-200">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 text-center">우리 지역사회의 국립의대 설립 필요성</h2>
            <p class="text-gray-700 leading-relaxed mb-4">
                전라남도와 같은 지방 지역사회에서 국립의과대학을 설립하는 것은 단순한 의료 교육기관의 확충을 넘어, 지역 발전에 필수적인 전략적 의미를 가집니다. 이는 만성적인 의료 인력 부족 문제를 해결하고, 지역 주민의 건강권을 보장하는 핵심적인 역할을 수행할 수 있습니다.
            </p>
            <p class="text-gray-700 leading-relaxed mb-4">
                첫째, <strong>의료 인프라 확충 및 의료 접근성 향상</strong>에 기여합니다. 국립의대는 부속 병원 설립을 동반하여, 응급 의료 및 고난도 수술 등 지역에서 부족한 양질의 의료 서비스를 제공할 수 있게 됩니다. 이는 주민들이 수도권으로 원정 진료를 떠나는 불편을 해소하고, 지역 내에서 안정적인 의료 혜택을 누릴 수 있게 합니다.
            </p>
            <p class="text-gray-700 leading-relaxed mb-4">
                둘째, <strong>지역 경제 활성화 및 인구 유입 촉진</strong> 효과를 기대할 수 있습니다. 의과대학과 부속 병원은 수많은 의료 인력과 교직원을 필요로 하며, 이는 곧 양질의 일자리 창출로 이어집니다. 또한, 학생과 교직원, 그 가족의 정착은 지역 상권 활성화와 인구 유입을 촉진하여 지역 전체에 활력을 불어넣을 것입니다.
            </p>
            <p class="text-gray-700 leading-relaxed">
                셋째, <strong>지역 인재 양성 및 정착 유도</strong>에 큰 도움이 됩니다. 지역 출신 학생들이 타 지역으로 가지 않고, 고향에서 의학을 공부하고 의사로서 활동할 기회를 가질 수 있게 됩니다. 이는 지역에 대한 소속감과 사명감을 가진 의료 인력을 양성하여, 궁극적으로 의료 인력의 수도권 유출을 막고 지역 의료 생태계를 강화하는 선순환 구조를 만들 것입니다.
            </p>
        </div>
    </div>

    <script>
        // 전라남도 순천시 병원 현황 CSV 데이터
        const csvData = `구분,의료기관명,의료기관주소(도로명),의료기관전화번호
한의원,담뜰한의원,"전라남도 순천시 왕지로 36, 2층 203호 (왕지동)",061-762-7577
한의원,하얀미한의원,"전라남도 순천시 왕지4길 9-12, 2층 (왕지동)",
한의원,송인한의원,"전라남도 순천시 중앙로 75, 1층 (저전동)",061-753-2735
한의원,홍대영한의원,"전라남도 순천시 중앙로 146-1, 1층 (매곡동)",061-751-1075
한의원,지리산쌍계한의원,"전라남도 순천시 왕지2길 13-7, 2층 (왕지동)",061-721-0012
한의원,아이누리한의원,"전라남도 순천시 해룡면 매안로 145, 2층 202호",061-723-0275
한의원,산들한의원,"전라남도 순천시 삼산로 101, 2층 203호 (용당동, 주상복합)",061-753-3701
한의원,웃장부부한의원,"전라남도 순천시 중앙로 107-1, 2층 (장천동)",061-745-1275
한의원,순천고려한의원,"전라남도 순천시 중앙로 22, 2층 (매곡동)",061-752-6688
한의원,한마음한의원,"전라남도 순천시 조례못등길 11, 2층 (조례동)",061-722-1275
한의원,경희한의원,"전라남도 순천시 연향동 1603-12번지",061-723-4488
한의원,이은한의원,"전라남도 순천시 왕궁길 51, 3층 (조례동)",061-721-7890
한의원,이수한의원,"전라남도 순천시 연향동 1573-2번지",061-723-2804
한의원,윤정식한의원,"전라남도 순천시 중앙로 48, 2층 (저전동)",061-752-2775
한의원,순천정문한의원,"전라남도 순천시 팔마로 179, 2층 (연향동)",061-723-1075
한의원,조례경희한의원,"전라남도 순천시 충효로 109, 2층 (조례동)",061-721-8875
한의원,김성훈한의원,"전라남도 순천시 중앙로 171, 2층 (매곡동)",061-754-0012
한의원,정우한의원,"전라남도 순천시 삼산로 86, 2층 (용당동)",061-754-7577
한의원,새시대한의원,"전라남도 순천시 팔마로 241, 3층 (연향동)",061-723-2775
한의원,한방신경정신과한의원,"전라남도 순천시 중앙로 142, 2층 (매곡동)",061-753-7577
한의원,김영욱한의원,"전라남도 순천시 팔마로 209, 2층 (연향동)",061-722-1200
한의원,연향한의원,"전라남도 순천시 장명로 18, 2층 (연향동)",061-721-9975
한의원,연세한의원,"전라남도 순천시 중앙로 364, 2층 (가곡동)",061-751-0075
한의원,동해한의원,"전라남도 순천시 연향동 1324-11번지",061-723-3323
한의원,동의한의원,"전라남도 순천시 연향번영길 191, 2층 (연향동)",061-724-4455
한의원,강남한의원,"전라남도 순천시 연향동 1494-1번지",061-721-9933
한의원,현대한의원,"전라남도 순천시 비봉1길 8-1, 1층 (석현동)",061-725-7588
한의원,김병철한의원,"전라남도 순천시 연향번영길 86, 2층 (연향동)",061-724-1234
한의원,다산한의원,"전라남도 순천시 연향번영길 176, 2층 (연향동)",061-724-5275
한의원,조례한의원,"전라남도 순천시 조례못등길 20, 3층 (조례동)",061-723-1175
한의원,조은손한의원,"전라남도 순천시 순광로 370, 2층 (조례동)",061-727-2775
한의원,명가한의원,"전라남도 순천시 연향번영길 155, 2층 (연향동)",061-722-7788
한의원,경희진한의원,"전라남도 순천시 연향번영길 124, 2층 (연향동)",061-722-2275
한의원,순천제일한의원,"전라남도 순천시 장선배기길 12, 2층 (해룡면)",061-726-7577
한의원,중앙한의원,"전라남도 순천시 중앙로 115, 2층 (남내동)",061-742-1275
치과의원,하나로치과의원,"전라남도 순천시 이수로 285, 2층 (조례동)",061-722-2804
치과의원,연세치과의원,"전라남도 순천시 장명로 20, 2층 (연향동)",061-721-2875
치과의원,이화치과의원,"전라남도 순천시 연향동 1572-13번지",061-721-2802
치과의원,행복치과의원,"전라남도 순천시 연향번영길 124, 3층 (연향동)",061-723-0104
치과의원,우리치과의원,"전라남도 순천시 연향번영길 129, 2층 (연향동)",061-723-2875
치과의원,조례동하나치과의원,"전라남도 순천시 순광로 370, 3층 (조례동)",061-727-2875
치과의원,박치과의원,"전라남도 순천시 연향번영길 110, 2층 (연향동)",061-722-2875
치과의원,이앤비치과의원,"전라남도 순천시 중앙로 222, 2층 (매곡동)",061-754-2804
치과의원,새천년치과의원,"전라남도 순천시 남신월1길 2-15, 2층 (연향동)",061-726-2828
치과의원,삼성치과의원,"전라남도 순천시 팔마로 179, 3층 (연향동)",061-725-2804
치과의원,예쁜치과의원,"전라남도 순천시 연향번영길 86, 3층 (연향동)",061-724-2804
치과의원,이사랑치과의원,"전라남도 순천시 해룡면 장선배기길 272, 부영6차가동 2층 3,4호",061-725-2804
치과의원,프롬치과의원,"전라남도 순천시 왕궁길 47, 2층 (조례동)",061-725-2775
치과의원,순천수치과의원,"전라남도 순천시 중앙로 353, 2층 (가곡동)",061-752-6511
치과의원,박석환치과의원,"전라남도 순천시 해룡면 장선배기길 284, 청솔@상가동 201호",061-725-2882
치과의원,라임치과의원,"전라남도 순천시 이수로 321, 4층 (조례동)",061-721-2804
치과의원,스마일치과의원,"전라남도 순천시 해룡면 기적의도서관길 90, 2층 212호 (부영3차아파트)",061-724-2828
치과의원,누가치과의원,"전라남도 순천시 중앙로 74 (장천동)",061-744-9972
치과의원,이즈치과의원,"전라남도 순천시 시민로 10-1, 2층 (행금동)",061-741-2804
치과의원,서울치과의원,"전라남도 순천시 동외동 132-1번지",061-742-8875
치과의원,김태민치과의원,"전라남도 순천시 순광로 321, 2층 (조례동)",061-721-2801
치과의원,황치과의원,"전라남도 순천시 충효로 101-1, 2층 (조례동)",061-722-2801
치과의원,미래치과의원,"전라남도 순천시 중앙로 149, 2층 (남내동)",061-744-2875
치과의원,예미소치과의원,"전라남도 순천시 연향번영길 182, 3층 (연향동)",061-721-2875
치과의원,순천연합치과의원,"전라남도 순천시 장명로 28, 2층 (연향동)",061-723-2800
치과의원,굿모닝치과의원,"전라남도 순천시 중앙로 162, 2층 (남내동)",061-741-2875
치과의원,김종환치과의원,"전라남도 순천시 비봉2길 8, 2층 (석현동)",061-745-2875
치과의원,김동현치과의원,"전라남도 순천시 연향중앙상가길 150-1, 2층 (연향동)",061-721-2800
치과의원,서울명성치과의원,"전라남도 순천시 연향중앙상가길 152, 2층 (연향동)",061-723-2875
치과의원,수치과의원,"전라남도 순천시 중앙로 171, 2층 (매곡동)",061-754-2875
치과의원,김정아치과의원,"전라남도 순천시 중앙로 215, 2층 (매곡동)",061-752-2804
치과의원,유치과의원,"전라남도 순천시 중앙로 136, 2층 (남내동)",061-742-2875
치과의원,강한치과의원,"전라남도 순천시 백강로 653, 2층 (조곡동)",061-751-0028
치과의원,해룡치과의원,"전라남도 순천시 해룡면 용두2길 1, 2층",061-722-2875
치과의원,백제치과의원,"전라남도 순천시 팔마로 131, 2층 (연향동)",061-723-2828
치과의원,조례치과의원,"전라남도 순천시 조례못등길 20, 2층 (조례동)",061-721-2800
치과의원,장수치과의원,"전라남도 순천시 연향번영길 246, 2층 (연향동)",061-721-0028
치과의원,고운미소치과의원,"전라남도 순천시 조례1길 63-14, 2층 (조례동)",061-725-7888
치과의원,치과와사랑니의원,"전라남도 순천시 연향번영길 146, 2층 (연향동)",061-722-7777
치과의원,미르치과의원,"전라남도 순천시 연향번영길 175, 2층 (연향동)",061-725-2828
치과의원,김영남치과의원,"전라남도 순천시 해룡면 향매2길 3, 2층",061-723-2875
치과의원,박성진치과의원,"전라남도 순천시 연향동 1600-4번지",061-722-2828
의원,예담소아청소년과의원,"전라남도 순천시 팔마로 179, 4층 (연향동)",061-722-7588
의원,마음쉼정신건강의학과의원,"전라남도 순천시 장명로 28, 3층 (연향동)",061-722-7588
의원,조례동가정의학과의원,"전라남도 순천시 순광로 370, 4층 (조례동)",061-727-7588
의원,김민영내과의원,"전라남도 순천시 연향번영길 185, 2층 (연향동)",061-725-7588
의원,김봉수의원,"전라남도 순천시 조례2길 17, 1층 (조례동)",061-724-7588
의원,남문외과의원,"전라남도 순천시 중앙로 235, 2층 (매곡동)",061-754-7588
의원,남성식피부과의원,"전라남도 순천시 중앙로 171, 3층 (매곡동)",061-752-7588
의원,최동주안과의원,"전라남도 순천시 순광로 370, 5층 (조례동)",061-727-7588
의원,김영내과의원,"전라남도 순천시 충효로 101-1, 3층 (조례동)",061-721-7588
의원,유정훈피부과의원,"전라남도 순천시 장명로 28, 3층 (연향동)",061-722-7588
의원,고려연합의원,"전라남도 순천시 연향동 1603-12번지",061-723-7588
의원,조례동정형외과의원,"전라남도 순천시 조례1길 63-14, 2층 (조례동)",061-725-7588
의원,다움정형외과의원,"전라남도 순천시 해룡면 장선배기길 272, 부영6차가동 2층 1호",061-725-7588
의원,우리들신경외과의원,"전라남도 순천시 이수로 321, 5층 (조례동)",061-721-7588
의원,송기정피부과의원,"전라남도 순천시 남신월1길 2-15, 3층 (연향동)",061-726-7588
의원,성심소아청소년과의원,"전라남도 순천시 팔마로 131, 2층 (연향동)",061-722-7588
의원,오재석내과의원,"전라남도 순천시 연향번영길 182, 2층 (연향동)",061-721-7588
의원,장기태이비인후과의원,"전라남도 순천시 연향번영길 124, 4층 (연향동)",061-722-7588
의원,우리들신경과내과의원,"전라남도 순천시 중앙로 171, 2층 (매곡동)",061-752-7588
의원,김동현정형외과의원,"전라남도 순천시 순광로 321, 2층 (조례동)",061-721-7588
의원,박성철내과의원,"전라남도 순천시 중앙로 149, 2층 (남내동)",061-744-7588
의원,조례동연세소아청소년과의원,"전라남도 순천시 조례1길 19, 2층 (조례동)",061-724-7588
의원,김형준내과의원,"전라남도 순천시 연향중앙상가길 150-1, 2층 (연향동)",061-721-7588
의원,서울성모의원,"전라남도 순천시 남신월1길 2-15, 2층 (연향동)",061-726-7588
의원,순천정문외과의원,"전라남도 순천시 팔마로 179, 2층 (연향동)",061-723-7588
의원,김동수안과의원,"전라남도 순천시 남신월1길 2-15, 3층 (연향동)",061-726-7588
의원,허내과의원,"전라남도 순천시 연향번영길 146, 2층 (연향동)",061-722-7588
의원,연향연합의원,"전라남도 순천시 연향번영길 175, 2층 (연향동)",061-725-7588
의원,서울이비인후과의원,"전라남도 순천시 조례1길 63-14, 2층 (조례동)",061-725-7588
의원,한마음정형외과의원,"전라남도 순천시 해룡면 향매2길 3, 2층",061-723-7588
의원,연향한사랑의원,"전라남도 순천시 연향동 1600-4번지",061-722-7588
의원,명안과,"전라남도 순천시 연향동 1600-5번지",061-723-7588
의원,정우철정형외과의원,"전라남도 순천시 해룡면 매안로 145, 2층 201호",061-723-7588
의원,장안과의원,"전라남도 순천시 연향동 1600-2번지",061-721-7588
의원,이앤비내과의원,"전라남도 순천시 중앙로 222, 2층 (매곡동)",061-754-7588
의원,김진우내과의원,"전라남도 순천시 장명로 20, 2층 (연향동)",061-721-7588
의원,순천고려정형외과의원,"전라남도 순천시 연향번영길 129, 2층 (연향동)",061-723-7588
의원,최선영산부인과의원,"전라남도 순천시 연향동 1604-1번지",061-724-7588
의원,나래정형외과의원,"전라남도 순천시 연향번영길 110, 2층 (연향동)",061-722-7588
의원,행복한정형외과의원,"전라남도 순천시 연향번영길 182, 2층 (연향동)",061-721-7588
의원,미래정형외과의원,"전라남도 순천시 해룡면 기적의도서관길 90, 2층 211호 (부영3차아파트)",061-724-7588
의원,김봉수의원,"전라남도 순천시 왕궁길 51, 2층 (조례동)",061-721-7588
의원,순천정형외과의원,"전라남도 순천시 팔마로 241, 3층 (연향동)",061-723-7588
의원,순천속편한내과의원,"전라남도 순천시 중앙로 48, 2층 (저전동)",061-752-7588
의원,정신과의원,"전라남도 순천시 중앙로 142, 2층 (매곡동)",061-753-7588
의원,서울내과의원,"전라남도 순천시 중앙로 115, 2층 (남내동)",061-742-7588
의원,광주정형외과의원,"전라남도 순천시 팔마로 209, 2층 (연향동)",061-722-7588
의원,황선하소아청소년과의원,"전라남도 순천시 조례못등길 20, 3층 (조례동)",061-723-7588
의원,성모안과의원,"전라남도 순천시 중앙로 162, 2층 (남내동)",061-741-7588
의원,순천한방신경정신과,"전라남도 순천시 중앙로 142, 2층 (매곡동)",061-753-7588
의원,김석환내과의원,"전라남도 순천시 중앙로 215, 2층 (매곡동)",061-752-7588
의원,조례동중앙의원,"전라남도 순천시 순광로 321, 2층 (조례동)",061-721-7588
의원,하나이비인후과의원,"전라남도 순천시 연향번영길 155, 2층 (연향동)",061-722-7588
의원,김원민안과의원,"전라남도 순천시 연향번영길 176, 2층 (연향동)",061-724-7588
의원,김재용내과의원,"전라남도 순천시 중앙로 136, 2층 (남내동)",061-742-7588
의원,미래내과의원,"전라남도 순천시 백강로 653, 2층 (조곡동)",061-751-7588
의원,미래항맥외과의원,"전라남도 순천시 중앙로 149, 2층 (남내동)",061-744-7588
의원,김성모이비인후과의원,"전라남도 순천시 조례1길 19, 2층 (조례동)",061-724-7588
의원,현대연합의원,"전라남도 순천시 조례1길 63-14, 2층 (조례동)",061-725-7588
의원,순천제일외과의원,"전라남도 순천시 장선배기길 12, 2층 (해룡면)",061-726-7588
병원,순천중앙병원,"전라남도 순천시 중앙로 110 (저전동)",061-754-5111
병원,성가롤로병원,"전라남도 순천시 순광로 280 (조례동)",061-720-2000
병원,순천한국병원,"전라남도 순천시 이수로 279 (조례동)",061-721-1111
병원,순천성심병원,"전라남도 순천시 중앙로 363 (가곡동)",061-741-0012
병원,순천제일병원,"전라남도 순천시 삼산로 86 (용당동)",061-754-0012
병원,순천하나병원,"전라남도 순천시 중앙로 109 (남내동)",061-742-7111
병원,순천현대병원,"전라남도 순천시 삼산로 101 (용당동)",061-753-1111
병원,순천의료원,"전라남도 순천시 순광로 315 (조례동)",061-720-3000
병원,순천정문외과병원,"전라남도 순천시 팔마로 179 (연향동)",061-723-0012
병원,한국병원,"전라남도 순천시 이수로 279 (조례동)",061-721-1111
병원,미즈여성병원,"전라남도 순천시 조례동 1735번지",061-722-1144
병원,김재영이비인후과의원,"전라남도 순천시 팔마로 241, 3층 (연향동)",061-723-7588
병원,미래아동병원,"전라남도 순천시 조례못등길 20, 2층 (조례동)",061-723-7588
병원,제일병원,"전라남도 순천시 삼산로 86 (용당동)",061-754-0012
의원,김동현정형외과의원,"전라남도 순천시 중앙로 222, 2층 (매곡동)",061-754-7588
치과의원,하나치과의원,"전라남도 순천시 장명로 28, 2층 (연향동)",061-723-2875
치과의원,우리치과의원,"전라남도 순천시 중앙로 115, 2층 (남내동)",061-742-2804
의원,순천정신과의원,"전라남도 순천시 중앙로 142, 2층 (매곡동)",061-753-7588
병원,순천한국병원,"전라남도 순천시 구암길 2 (연향동)",061-744-2875`;

        // CSV 데이터를 파싱하여 JavaScript 객체 배열로 변환하는 함수
        function parseCSV(csv) {
            const lines = csv.split('\n');
            const headers = lines[0].split(',').map(header => header.trim());
            const data = [];

            for (let i = 1; i < lines.length; i++) {
                const line = lines[i].trim();
                if (line.length === 0) continue;

                const values = [];
                let inQuotes = false;
                let currentValue = "";
                for (let j = 0; j < line.length; j++) {
                    const char = line[j];
                    if (char === '"' && (j === 0 || line[j - 1] !== '\\')) {
                        inQuotes = !inQuotes;
                    } else if (char === ',' && !inQuotes) {
                        values.push(currentValue.trim());
                        currentValue = "";
                    } else {
                        currentValue += char;
                    }
                }
                values.push(currentValue.trim());

                if (values.length === headers.length) {
                    const row = {};
                    for (let k = 0; k < headers.length; k++) {
                        row[headers[k].trim()] = values[k].replace(/^"|"$/g, '').trim();
                    }
                    data.push(row);
                }
            }
            return data;
        }

        // DOM 요소에 대한 참조 가져오기
        const searchInput = document.getElementById('searchInput');
        const typeFilter = document.getElementById('typeFilter');
        const resultsContainer = document.getElementById('resultsContainer');
        const messageBox = document.getElementById('messageBox');
        const hospitalChartCtx = document.getElementById('hospitalChart').getContext('2d');

        // CSV 데이터를 파싱하여 배열에 저장
        const hospitals = parseCSV(csvData);

        // 병원 종류별 데이터 수를 계산하는 함수
        function countHospitalTypes(data) {
            const counts = {
                '병원': 0,
                '의원': 0,
                '한의원': 0,
                '치과의원': 0,
            };
            data.forEach(hospital => {
                if (counts.hasOwnProperty(hospital['구분'])) {
                    counts[hospital['구분']]++;
                }
            });
            return counts;
        }

        // 차트 그리기
        let hospitalDoughnutChart; // 전역 변수로 차트 인스턴스 저장
        function drawChart(dataCounts) {
            if (hospitalDoughnutChart) {
                hospitalDoughnutChart.destroy(); // 기존 차트가 있으면 파괴
            }

            const labels = Object.keys(dataCounts);
            const data = Object.values(dataCounts);

            hospitalDoughnutChart = new Chart(hospitalChartCtx, {
                type: 'doughnut',
                data: {
                    labels: labels,
                    datasets: [{
                        data: data,
                        backgroundColor: [
                            '#3b82f6', // blue-500
                            '#22c55e', // green-500
                            '#eab308', // yellow-500
                            '#ef4444'  // red-500
                        ],
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom',
                        },
                        tooltip: {
                            callbacks: {
                                label: function(tooltipItem) {
                                    const total = tooltipItem.dataset.data.reduce((sum, current) => sum + current, 0);
                                    const value = tooltipItem.raw;
                                    const percentage = ((value / total) * 100).toFixed(2);
                                    return `${tooltipItem.label}: ${value}개 (${percentage}%)`;
                                }
                            }
                        }
                    }
                }
            });
        }

        // 결과를 렌더링하는 함수
        function renderResults(data) {
            resultsContainer.innerHTML = '';
            messageBox.classList.add('hidden');

            if (data.length === 0) {
                messageBox.classList.remove('hidden');
                return;
            }

            data.forEach(hospital => {
                const card = document.createElement('div');
                card.className = 'bg-gray-100 p-4 rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200 border border-gray-200';
                card.innerHTML = `
                    <div class="flex items-center gap-4 mb-2">
                        <span class="inline-block px-3 py-1 text-sm font-semibold rounded-full ${getBadgeColor(hospital['구분'])}">
                            ${hospital['구분']}
                        </span>
                        <h2 class="text-xl font-bold text-blue-700">${hospital['의료기관명']}</h2>
                    </div>
                    <p class="text-gray-600 mb-1"><span class="font-medium text-gray-700">주소:</span> ${hospital['의료기관주소(도로명)']}</p>
                    <p class="text-gray-600"><span class="font-medium text-gray-700">전화번호:</span> ${hospital['의료기관전화번호'] || '정보 없음'}</p>
                `;
                resultsContainer.appendChild(card);
            });
        }

        // 구분(종류)에 따른 배지 색상 결정
        function getBadgeColor(type) {
            switch (type) {
                case '병원': return 'bg-red-200 text-red-800';
                case '의원': return 'bg-green-200 text-green-800';
                case '한의원': return 'bg-yellow-200 text-yellow-800';
                case '치과의원': return 'bg-blue-200 text-blue-800';
                default: return 'bg-gray-200 text-gray-800';
            }
        }

        // 검색 및 필터링을 처리하는 함수
        function filterHospitals() {
            const searchTerm = searchInput.value.toLowerCase();
            const selectedType = typeFilter.value;

            const filteredData = hospitals.filter(hospital => {
                const matchesSearchTerm = (
                    hospital['의료기관명'].toLowerCase().includes(searchTerm) ||
                    hospital['의료기관주소(도로명)'].toLowerCase().includes(searchTerm)
                );
                const matchesType = (selectedType === '전체' || hospital['구분'] === selectedType);
                return matchesSearchTerm && matchesType;
            });
            renderResults(filteredData);
        }

        // 이벤트 리스너 추가
        searchInput.addEventListener('input', filterHospitals);
        typeFilter.addEventListener('change', filterHospitals);

        // 페이지 로드 시 전체 데이터 렌더링 및 차트 그리기
        window.onload = () => {
            renderResults(hospitals);
            const counts = countHospitalTypes(hospitals);
            drawChart(counts);
        };
    </script>
</body>
</html>
